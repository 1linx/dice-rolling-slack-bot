<!DOCTYPE html>
<html>
<head>
<script   src="https://code.jquery.com/jquery-3.1.1.min.js"   integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="   crossorigin="anonymous"></script>
	<title></title>
</head>
<body>
<button id="1d6">Roll 1D6</button>
</body>
<script type="text/javascript">

function diceRoll(number, min, max) {
    var diceRunningTotal = 0;
    // console.log("Rolling a D" + max);
	for (var numberOfRolls = 0; numberOfRolls < number; numberOfRolls++) {
		var aSingleDie = (Math.random() * ((max + 1) - min) + min);
		aSingleDie = Math.floor(aSingleDie);		
		// console.log("You rolled a " + aSingleDie);
		diceRunningTotal += aSingleDie;
	}
	// console.log("running total is " + diceRunningTotal);
	console.log(diceRunningTotal);
	
return diceRunningTotal;

}

var slackLink = "https://hooks.slack.com/services/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";

var rollResult;

$("#1d6").click(function() {
	rollResult = diceRoll(1,1,6);

	var payload = 'payload={';
	payload += '"channel": "#rolldembones"';
	payload += ',"username": "dice-bot"';
	payload += ',"icon_emoji": ":game_die:"';
	payload += ',"text": "' + rollResult  + '"';
	payload += '}';
	console.log(payload);

	$.post(slackLink, payload
	);
	console.log(payload);
});

</script>
</html>